<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ZuckCannon</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="app.css?v=20251129-ui-improvements" />
  <link rel="icon" type="image/x-icon" href="icons/favi.png">

</head>

<body>
  <header>
    <h1>ZuckCannon <span class="h1-version">v1.0</span>
      <button class="refresh-data-btn" title="Refresh data from Facebook">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M23 4v6h-6"></path>
          <path d="M1 20v-6h6"></path>
          <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
        </svg>
      </button>
      <button class="rules-btn" title="Automated Rules">
        <p>Manage Rules</p>
      </button>
      <button class="create-multi-account-campaign-btn" title="Create Campaign for Multiple Ad Accounts">
        <p>+ Create Campaign (Multi-Account)</p>
      </button>
    </h1>
    <div class="header-controls">
      <span id="username-display"></span>
      <button id="logout-btn" class="logout-btn">Logout</button>
    </div>
  </header>

  <!-- Not authenticated message -->
  <div id="auth-message" class="auth-message" style="display: none;">
    <p>Not authenticated. <a href="/login.html">Please login to view data.</a></p>
  </div>

  <div class="main-container" id="main-container">
    <!-- Column 1 - Ad Account -->
    <aside id="col-1" class="ad-acc-column">
      <h2>Select Ad Account</h2>
      <ul id="ad-acc-list"></ul>
    </aside>

    <!-- Column 2 - Campaign -->
    <div id="col-2" class="campaign-column" style="display: none">
      <div class="campaign-title-wrapper">
        <h2>Select Campaign</h2>
        <a href="#" class="search-icon-btn"><img src="icons/search-icon.svg" alt="Search" /></a>
      </div>
      <button class="create-new-campaign-btn">+ Create New Campaign</button>
      <button class="create-multi-adset-btn">+ Create Ad Set for Multiple Campaigns</button>
    </div>

    <!-- Column 2.5 - Campaign Creation -->
    <div id="col-2-5" class="campaign-creation-column" style="display: none">
      <h2>Create New Campaign</h2>
      <div class="campaign-form-container">
        <input type="text" placeholder="Campaign Name*" class="config-campaign-name" required />

        <!-- Objective dropdown -->
        <div class="dropdown-container">
          <div class="custom-dropdown">
            <div class="dropdown-selected" data-dropdown="campaign-objective">
              <span class="dropdown-display placeholder" placeholder="Campaign Objective*">Campaign Objective*</span>
              <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </div>
            <ul class="dropdown-options campaign-objective">
              <li data-value="OUTCOME_TRAFFIC">Traffic</li>
              <li data-value="OUTCOME_ENGAGEMENT">Engagement</li>
              <li data-value="OUTCOME_LEADS">Leads</li>
              <li data-value="OUTCOME_SALES">Sales</li>
              <li data-value="OUTCOME_APP_PROMOTION">App Promotion</li>
              <li data-value="OUTCOME_AWARENESS">Awareness</li>
            </ul>
          </div>
        </div>

        <!-- Status dropdown -->
        <div class="dropdown-container">
          <div class="custom-dropdown">
            <div class="dropdown-selected" data-dropdown="campaign-status">
              <span class="dropdown-display placeholder" placeholder="Status*">Status*</span>
              <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </div>
            <ul class="dropdown-options campaign-status">
              <li data-value="PAUSED">Paused</li>
              <li data-value="ACTIVE">Active</li>
            </ul>
          </div>
        </div>

        <!-- Budget Mode Selection -->
        <div class="budget-mode-container"
          style="margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 4px; background: #f9f9f9;">
          <h4 style="margin: 0 0 15px 0; font-size: 14px; color: #333; display: flex; align-items: center; gap: 8px;">
            Budget*
            <span style="color: #42b72a; font-size: 12px; font-weight: 600;">Advantage+ on</span>
          </h4>
          <div class="budget-mode-options" style="display: flex; flex-direction: column; gap: 10px;">
            <label
              style="display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 10px; border: 2px solid #1877f2; border-radius: 4px; background: #e7f3ff; transition: all 0.2s;">
              <input type="radio" name="campaign-budget-mode" value="CAMPAIGN_LEVEL" checked style="cursor: pointer;">
              <div>
                <div style="font-weight: 600; font-size: 14px; color: #333;">Campaign budget</div>
                <div style="font-size: 12px; color: #666; margin-top: 2px;">Automatically distribute your budget to the
                  best opportunities across your campaign. Also known as Advantage+ campaign budget. <a
                    href="https://www.facebook.com/business/help/1602924913861363" target="_blank"
                    style="color: #1877f2; text-decoration: none;">About campaign budget</a></div>
              </div>
            </label>
            <label
              style="display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 10px; border: 2px solid #ddd; border-radius: 4px; background: white; transition: all 0.2s;">
              <input type="radio" name="campaign-budget-mode" value="ADSET_LEVEL" style="cursor: pointer;">
              <div>
                <div style="font-weight: 600; font-size: 14px; color: #333;">Ad set budget</div>
                <div style="font-size: 12px; color: #666; margin-top: 2px;">Set different bid strategies or budget
                  schedules for each ad set.</div>
              </div>
            </label>
          </div>
        </div>

        <!-- Campaign-Level Budget Fields (Shown by default since CAMPAIGN_LEVEL is default) -->
        <div class="campaign-budget-fields" style="display: block; margin-top: 15px;">
          <!-- Budget Type Selection -->
          <div class="dropdown-container">
            <div class="custom-dropdown">
              <div class="dropdown-selected" data-dropdown="campaign-budget-type">
                <span class="dropdown-display placeholder" placeholder="Budget Type*">Budget Type*</span>
                <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                  <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </div>
              <ul class="dropdown-options campaign-budget-type">
                <li data-value="daily">Daily Budget</li>
                <li data-value="lifetime">Lifetime Budget</li>
              </ul>
            </div>
          </div>

          <!-- Budget Amount Input -->
          <div class="budget-input-wrapper"
            style="display: flex; align-items: center; border: 1px solid #ddd; border-radius: 4px; overflow: hidden; background: white;">
            <span class="currency-prefix"
              style="padding: 10px; background: #f5f5f5; color: #666; font-weight: 600;">$</span>
            <input type="number" id="campaign-budget-amount" class="campaign-budget-amount" placeholder="Budget Amount*"
              step="0.01" min="1" required style="flex: 1; border: none; padding: 10px; outline: none;">
            <span class="currency-suffix campaign-budget-suffix"
              style="padding: 10px; background: #f5f5f5; color: #666; font-size: 12px;">/day</span>
          </div>

          <!-- Campaign End Date (for lifetime budget) - HIDDEN -->
          <div class="campaign-end-date-container" style="display: none;">
            <label style="display: block; font-size: 13px; color: #666; margin-bottom: 4px;">Campaign End Date*</label>
            <input type="datetime-local" id="campaign-end-date" class="campaign-end-date"
              style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
          </div>

          <!-- Pacing Type - HIDDEN -->
          <div class="dropdown-container" style="display: none;">
            <div class="custom-dropdown">
              <div class="dropdown-selected" data-dropdown="campaign-pacing-type">
                <span class="dropdown-display placeholder" placeholder="Pacing Type">Pacing Type</span>
                <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                  <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </div>
              <ul class="dropdown-options campaign-pacing-type">
                <li data-value="standard">Standard Pacing (Recommended)</li>
                <li data-value="no_pacing">No Pacing (Accelerated)</li>
                <li data-value="day_parting">Day Parting (Schedule)</li>
              </ul>
            </div>
          </div>

          <!-- Campaign Schedule - HIDDEN -->
          <div class="campaign-schedule-container"
            style="display: none; margin-top: 15px; padding: 15px; border: 1px solid #ddd; border-radius: 4px; background: #f9f9f9;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
              <h4 style="margin: 0; font-size: 14px; color: #333;">Campaign Schedule</h4>
              <button type="button" class="add-campaign-schedule-btn"
                style="padding: 6px 12px; background: #1877f2; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">+
                Add Schedule</button>
            </div>
            <p style="margin: 8px 0; font-size: 12px; color: #666;">Schedule specific days and hours when your ads
              should run.</p>
            <div class="campaign-schedule-list"></div>
          </div>

          <!-- Bid Strategy -->
          <div class="dropdown-container">
            <div class="custom-dropdown">
              <div class="dropdown-selected" data-dropdown="campaign-bid-strategy">
                <span class="dropdown-display placeholder" placeholder="Bid Strategy">Bid Strategy</span>
                <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                  <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </div>
              <ul class="dropdown-options campaign-bid-strategy">
                <li data-value="">None (Meta optimizes automatically)</li>
                <li data-value="LOWEST_COST_WITHOUT_CAP">Lowest Cost Without Cap</li>
                <li data-value="LOWEST_COST_WITH_BID_CAP">Lowest Cost With Bid Cap</li>
                <li data-value="COST_CAP">Cost Cap</li>
                <li data-value="LOWEST_COST_WITH_MIN_ROAS">Lowest Cost With Min ROAS</li>
              </ul>
            </div>
          </div>

          <!-- Bid Amount (shown when bid cap strategy selected) -->
          <div class="campaign-bid-amount-container" style="display: none;">
            <label style="display: block; font-size: 13px; color: #666; margin-bottom: 4px;">Bid Amount per Ad
              Set*</label>
            <div class="budget-input-wrapper"
              style="display: flex; align-items: center; border: 1px solid #ddd; border-radius: 4px; overflow: hidden; background: white;">
              <span class="currency-prefix"
                style="padding: 10px; background: #f5f5f5; color: #666; font-weight: 600;">$</span>
              <input type="number" id="campaign-bid-amount" class="campaign-bid-amount" placeholder="Bid Amount*"
                step="0.01" min="0.01" style="flex: 1; border: none; padding: 10px; outline: none;">
            </div>
            <small style="display: block; margin-top: 4px; color: #666; font-size: 11px;">This bid amount will be
              applied to all ad sets in this campaign</small>
          </div>
        </div>

        <!-- Special Categories dropdown -->
        <div class="dropdown-container">
          <div class="custom-dropdown">
            <div class="dropdown-selected" data-dropdown="campaign-special-categories">
              <span class="dropdown-display placeholder" placeholder="Special Ad Categories (Optional)">Special Ad
                Categories (Optional)</span>
              <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </div>
            <ul class="dropdown-options campaign-special-categories" data-multiple="true">
              <li data-value="">None - If none of the categories apply</li>
              <li data-value="EMPLOYMENT">Employment</li>
              <li data-value="HOUSING">Housing</li>
              <li data-value="FINANCIAL_PRODUCTS_SERVICES">Financial Products & Services</li>
              <li data-value="ISSUES_ELECTIONS_POLITICS">Issues, Elections, Politics</li>
              <li data-value="ONLINE_GAMBLING_AND_GAMING">Online Gambling & Gaming</li>
            </ul>
          </div>
        </div>

        <!-- Special Ad Category Country dropdown -->
        <div class="dropdown-container">
          <div class="custom-dropdown">
            <div class="dropdown-selected" data-dropdown="campaign-special-country">
              <span class="dropdown-display placeholder" placeholder="Special Ad Category Country (Optional)">Special Ad
                Category Country (Optional)</span>
              <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </div>
            <ul class="dropdown-options campaign-special-country" data-multiple="true">
              <li data-value="">None</li>
              <!-- Countries will be populated dynamically from fb-locations.json -->
            </ul>
          </div>
        </div>

        <button class="campaign-preview-btn" style="background: #42b72a; margin-bottom: 8px;">Preview Campaign</button>
        <button class="campaign-create-btn">Create Campaign</button>
        <button class="campaign-cancel-btn">Cancel</button>
      </div>
    </div>

    <!-- Column 3 - Action -->
    <!-- <div id="col-3" class="action-column" style="display: none;"> -->
    <div id="col-3" class="action-column" style="display: none">
      <h2>Select Action</h2>
      <ul>
        <li class="action" data-next-column="" data-col-id="3" data-action-type="duplicate-campaign">
          Duplicate <strong>Campaign</strong></li>
        <li class="action" data-next-column="" data-col-id="3" data-action-type="duplicate-campaign-multi">
          Duplicate <strong>Campaign</strong> for Multiple Ad Accounts</li>
        <li class="action" data-next-column=".upload-column" data-col-id="3" data-action-type="create-new">
          Create New <strong>Ad Set</strong>
        </li>
        <li class="action" data-next-column=".upload-column" data-col-id="3" data-action-type="upload-existing">Upload
          to Existing <strong>Ad Set</strong>
        <li class="action" data-next-column=".upload-column" data-col-id="3" data-action-type="duplicate-existing">
          Duplicate Existing <strong>Ad Set</strong></li>
        <li class="action" data-next-column="" data-col-id="3" data-action-type="duplicate-adset-multi">
          Duplicate Existing <strong>Ad Set</strong> for Multiple Ad Accounts</li>
      </ul>
    </div>
    <!-- Upload Column -->
    <!-- <div id="col-4" class="upload-column" style="display: none;"> -->
    <div id="col-4" class="upload-column" style="display: none">
      <!-- Ad Set List (for existing ad set selection) -->
      <div class="adset-list-container" style="display: none;">
        <h3>Select Ad Set</h3>
        <div class="adset-list">
          <!-- Ad sets will be populated here -->
        </div>
      </div>

      <!-- Ad Set Configuration -->
      <div class="adset-config">
        <h2>Ad Set Configuration</h2>
        <div class="adset-form-container">
          <input type="text" value="Campaign Id" class="preselect config-campaign-id" readonly />
          <input type="text" value="WEBSITE" class="preselect config-destination-type" readonly
            style="display: none;" />
          <input type="text" value="OFFSITE_CONVERSIONS" class="preselect config-optimization-goal" readonly />
          <input type="text" value="IMPRESSIONS" class="preselect config-billing-event" readonly
            style="display: none;" />
          <input type="text" value="LOWEST_COST_WITHOUT_CAP" class="preselect config-bid-strategy" readonly
            style="display: none;" />
          <input type="text" placeholder="Ad Set Name*" data-container="adset-form-container" class="config-adset-name"
            required />

          <!-- Status dropdown -->
          <div class="dropdown-container">
            <div class="custom-dropdown">
              <div class="dropdown-selected" data-dropdown="status">
                <span class="dropdown-display">Status*</span>
                <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                  <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </div>
              <ul class="dropdown-options status">
                <li class="status-option" data-value="ACTIVE">ACTIVE</li>
                <li class="status-option" data-value="PAUSED">PAUSED</li>
              </ul>
            </div>
          </div>

          <!-- Page dropdown -->
          <div class="dropdown-container">
            <div class="custom-dropdown">
              <div class="dropdown-selected" data-dropdown="pages">
                <span class="dropdown-display placeholder">Page</span>
                <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                  <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </div>
              <ul class="dropdown-options pages"></ul>
            </div>
          </div>

          <!-- Pixel dropdown -->
          <div class="dropdown-container">
            <div class="custom-dropdown">
              <div class="dropdown-selected" data-dropdown="pixel">
                <span class="dropdown-display placeholder">Pixel </span>
                <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                  <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </div>
              <ul class="dropdown-options pixel"></ul>
            </div>
          </div>

          <!-- Custom Event Type Selection -->
          <div class="event-type-container" style="opacity: 1;">
            <input type="text" placeholder="Custom Event Type " data-container="adset-form-container"
              class="config-event-type" readonly>
            <input type="text" placeholder="Type to search events..." class="event-type-search" style="display: none;">
            <ul class="event-type-suggestions" style="display: none;"></ul>
          </div>

          <!-- Budget & Schedule Section -->
          <div class="budget-schedule-section"
            style="margin-top: 15px; padding: 15px; border: 1px solid #ddd; border-radius: 4px; background: #f9f9f9;">
            <h3 style="margin: 0 0 10px 0; font-size: 16px; color: #333;">Budget & Schedule</h3>

            <!-- Budget Type dropdown -->
            <div class="dropdown-container">
              <div class="custom-dropdown">
                <div class="dropdown-selected" data-dropdown="adset-budget-type">
                  <span class="dropdown-display placeholder" placeholder="Budget Type*">Budget Type*</span>
                  <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                    <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </div>
                <ul class="dropdown-options adset-budget-type">
                  <li data-value="daily">Daily Budget</li>
                  <li data-value="lifetime">Lifetime Budget</li>
                </ul>
              </div>
            </div>

            <!-- Budget Amount Input -->
            <div class="budget-input-wrapper" style="margin-top: 4px;">
              <span class="currency-prefix">$</span>
              <input type="number" placeholder="Enter budget amount*" data-container="adset-form-container"
                class="config-adset-budget" step="0.01" min="1" required />
              <span class="budget-type-suffix"></span>
            </div>

            <!-- Start Date & Time -->
            <div style="margin-top: 10px;">
              <label style="display: block; font-size: 13px; color: #666; margin-bottom: 4px;">Start Date &
                Time*</label>
              <input type="datetime-local" class="config-start-datetime" data-container="adset-form-container"
                style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" required />
            </div>

            <!-- End Date & Time -->
            <div style="margin-top: 10px;">
              <label style="display: block; font-size: 13px; color: #666; margin-bottom: 4px;">
                End Date & Time<span class="end-date-required-indicator" style="color: #dc3545; display: none;">*</span>
                <span class="end-date-optional-indicator" style="color: #999;"> (Optional for Daily Budget)</span>
              </label>
              <input type="datetime-local" class="config-end-datetime" data-container="adset-form-container"
                style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" />
              <small style="display: block; margin-top: 4px; color: #666; font-size: 12px;">
                Leave empty for ongoing campaign (Daily Budget only)
              </small>
            </div>
          </div>

          <!-- Bid Strategy Section  -->
          <div class="bid-strategy-section" style="margin-top: 15px;">
            <div class="dropdown-container">
              <div class="custom-dropdown">
                <div class="dropdown-selected" data-dropdown="adset-bid-strategy">
                  <span class="dropdown-display" data-value="LOWEST_COST_WITHOUT_CAP">Lowest Cost Without Cap</span>
                  <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                    <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </div>
                <ul class="dropdown-options adset-bid-strategy">
                  <li data-value="LOWEST_COST_WITHOUT_CAP">Lowest Cost Without Cap</li>
                  <li data-value="LOWEST_COST_WITH_BID_CAP">Lowest Cost With Bid Cap</li>
                  <li data-value="COST_CAP">Cost Cap</li>
                  <li data-value="LOWEST_COST_WITH_MIN_ROAS">Lowest Cost With Min ROAS</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="budget-input-wrapper cost-per-result">
            <span class="currency-prefix">$</span>
            <input type="number" placeholder="12.50" data-container="adset-form-container"
              class="config-cost-per-result-goal" step="0.01" min="0" />
            <span class="currency-suffix">per result</span>
          </div>

          <div class="targeting-age">
            <input type="number" placeholder="Min Age*" class="min-age" data-container="adset-form-container"
              required />
            <input type="number" placeholder="Max Age*" class="max-age" data-container="adset-form-container"
              required />
          </div>
          <!-- Country Selection -->
          <div class="geo-selection-container">
            <div class="country-selection">
              <div class="selected-countries-container">
                <div class="selected-tags" id="selected-countries"></div>
                <input type="text" placeholder="Search countries (please match with campaign)*"
                  class="country-search-input" data-container="adset-form-container" />
              </div>
              <ul class="country-suggestions" style="display: none;"></ul>
            </div>
          </div>

          <!-- Region Selection -->
          <div class="geo-selection-container">
            <div class="region-selection">
              <div class="selected-regions-container">
                <div class="selected-tags" id="selected-regions"></div>
                <input type="text" placeholder="Search regions" class="region-search-input"
                  data-container="adset-form-container" />
              </div>
              <ul class="region-suggestions" style="display: none;"></ul>
            </div>
          </div>

          <!-- Ad Scheduling Section -->
          <div class="ad-scheduling-container"
            style="margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 4px; background: #f9f9f9;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
              <h3 style="margin: 0; font-size: 16px; color: #333;">Ad Scheduling (Optional)</h3>
              <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                <input type="checkbox" class="enable-scheduling-checkbox" style="cursor: pointer;">
                <span style="font-size: 14px; color: #666;">Enable Scheduling</span>
              </label>
            </div>
            <p style="margin: 8px 0; font-size: 13px; color: #666;">Schedule specific days and hours when your ads
              should run.</p>

            <div class="scheduling-controls" style="display: none;">
              <!-- Schedule List -->
              <div class="schedule-list" style="margin-top: 15px;">
                <!-- Schedule items will be added here -->
              </div>

              <!-- Add Schedule Button -->
              <button type="button" class="add-schedule-btn"
                style="margin-top: 10px; padding: 8px 16px; background: #103dee; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">
                + Add Schedule
              </button>

              <!-- Schedule Form Template (hidden) -->
              <div class="schedule-form-template" style="display: none;">
                <div class="schedule-item"
                  style="margin-top: 15px; padding: 15px; border: 1px solid #ddd; border-radius: 4px; background: white;">
                  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <strong style="font-size: 14px;">Schedule #<span class="schedule-number"></span></strong>
                    <button type="button" class="remove-schedule-btn"
                      style="padding: 4px 8px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">Remove</button>
                  </div>

                  <!-- Time Selection -->
                  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px;">
                    <div>
                      <label style="display: block; font-size: 13px; color: #666; margin-bottom: 4px;">Start Time
                        (HH:MM)</label>
                      <input type="time" class="schedule-start-time" required
                        style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                    </div>
                    <div>
                      <label style="display: block; font-size: 13px; color: #666; margin-bottom: 4px;">End Time
                        (HH:MM)</label>
                      <input type="time" class="schedule-end-time" required
                        style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                    </div>
                  </div>

                  <!-- Days Selection -->
                  <div style="margin-bottom: 10px;">
                    <label style="display: block; font-size: 13px; color: #666; margin-bottom: 8px;">Active Days</label>
                    <div class="days-selector" style="display: flex; gap: 8px; flex-wrap: wrap;">
                      <label class="day-checkbox"
                        style="display: flex; align-items: center; gap: 4px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" value="0" style="cursor: pointer;"> Sun
                      </label>
                      <label class="day-checkbox"
                        style="display: flex; align-items: center; gap: 4px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" value="1" style="cursor: pointer;"> Mon
                      </label>
                      <label class="day-checkbox"
                        style="display: flex; align-items: center; gap: 4px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" value="2" style="cursor: pointer;"> Tue
                      </label>
                      <label class="day-checkbox"
                        style="display: flex; align-items: center; gap: 4px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" value="3" style="cursor: pointer;"> Wed
                      </label>
                      <label class="day-checkbox"
                        style="display: flex; align-items: center; gap: 4px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" value="4" style="cursor: pointer;"> Thu
                      </label>
                      <label class="day-checkbox"
                        style="display: flex; align-items: center; gap: 4px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" value="5" style="cursor: pointer;"> Fri
                      </label>
                      <label class="day-checkbox"
                        style="display: flex; align-items: center; gap: 4px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" value="6" style="cursor: pointer;"> Sat
                      </label>
                    </div>
                  </div>

                  <!-- Timezone Type -->
                  <div>
                    <label style="display: block; font-size: 13px; color: #666; margin-bottom: 4px;">Timezone</label>
                    <select class="schedule-timezone-type"
                      style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                      <option value="USER">User's Timezone</option>
                      <option value="ADVERTISER">Account Timezone</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <button class="create-adset-btn">Create Ad Set</button>
        </div>
      </div>
      <!-- Creative Upload -->
      <div class="creative-upload" style="display: none">
        <h2>Creative Upload</h2>

        <div class="upload-steps-container">
          <!-- File upload area -->
          <div class="upload-step" data-step="2">
            <div class="file-drop-zone">
              <p class="drop-zone-text">Drag & drop <strong>images and videos</strong> here <br /><br />or</p>
              <input type="file" multiple accept="image/*,video/*" />
              <button class="continue-btn">Browse Files</button>
              <div class="gdrive-input-container">
                <p style="margin: 15px 0 10px 0; color: #666; font-size: 14px;">or</p>
                <div style="display: flex; align-items: center; gap: 8px; max-width: 400px; margin: 0 auto;">
                  <input type="text" class="gdrive-link-input" placeholder="Paste Google Drive link..."
                    style="flex: 1; padding: 8px 12px; font-size: 14px;">
                  <button class="gdrive-fetch-btn"
                    style="padding: 8px 12px; background: #103dee; color: white; border: none;  cursor: pointer; display: flex; align-items: center; gap: 6px; font-size: 14px;">
                    <img src="icons/drive-icon.svg" alt="Drive" style="width: 16px; height: 16px;">
                    Fetch
                  </button>
                </div>
              </div>
              <div class="creative-library-link-container" style="margin-top: 15px;">
                <p style="margin: 10px 0; color: #666; font-size: 14px;">or</p>
                <button class="open-library-btn"
                  style="padding: 10px 20px; background: #28a745; color: white; border: none; cursor: pointer; font-size: 14px;">
                  üìö Browse Creative Library
                </button>
              </div>
            </div>
          </div>

          <!-- Step 3: Uploaded files list -->
          <div class="upload-step" data-step="3" style="display: none">
            <div class="uploaded-files-list">
              <!-- Files will be populated here -->
            </div>

            <button class="continue-btn">Upload Creatives</button>
            <button class="back-btn" style="margin-top: 15px">‚Üê Clear All Files</button>
          </div>
        </div>
      </div>

      <!-- Insert Ad Copy -->
      <div class="ad-copy-container" style="display: none">
        <h2>Editing Ad Copy for All 5 Images</h2>
        <div class="adset-form-container">
          <textarea placeholder="Primary Text*" required rows="6"></textarea>
          <input type="text" placeholder="Headline*" required />
          <!-- Page dropdown -->
          <div class="dropdown-container">
            <div class="custom-dropdown">
              <div class="dropdown-selected" data-dropdown="page">
                <span class="dropdown-display">Page*</span>
                <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                  <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </div>
              <ul class="dropdown-options pages">
              </ul>
            </div>
          </div>
          <!-- Call to Action dropdown -->
          <div class="dropdown-container">
            <div class="custom-dropdown">
              <div class="dropdown-selected" data-dropdown="cta">
                <span class="dropdown-display">Learn more</span>
                <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                  <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </div>
              <ul class="dropdown-options cta">
                <li class="cta-option" data-value="NO_BUTTON">No button</li>
                <li class="cta-option" data-value="OPEN_LINK">Open link</li>
                <li class="cta-option" data-value="LIKE_PAGE">Like page</li>
                <li class="cta-option" data-value="SHOP_NOW">Shop now</li>
                <li class="cta-option" data-value="PLAY_GAME">Play game</li>
                <li class="cta-option" data-value="INSTALL_APP">Install app</li>
                <li class="cta-option" data-value="USE_APP">Use app</li>
                <li class="cta-option" data-value="CALL">Call</li>
                <li class="cta-option" data-value="CALL_ME">Call me</li>
                <li class="cta-option" data-value="VIDEO_CALL">Video call</li>
                <li class="cta-option" data-value="INSTALL_MOBILE_APP">Install mobile app</li>
                <li class="cta-option" data-value="USE_MOBILE_APP">Use mobile app</li>
                <li class="cta-option" data-value="MOBILE_DOWNLOAD">Mobile download</li>
                <li class="cta-option" data-value="BOOK_TRAVEL">Book travel</li>
                <li class="cta-option" data-value="LISTEN_MUSIC">Listen music</li>
                <li class="cta-option" data-value="WATCH_VIDEO">Watch video</li>
                <li class="cta-option selected" data-value="LEARN_MORE">Learn more</li>
                <li class="cta-option" data-value="SIGN_UP">Sign up</li>
                <li class="cta-option" data-value="DOWNLOAD">Download</li>
                <li class="cta-option" data-value="WATCH_MORE">Watch more</li>
                <li class="cta-option" data-value="VISIT_PAGES_FEED">Visit pages feed</li>
                <li class="cta-option" data-value="CALL_NOW">Call now</li>
                <li class="cta-option" data-value="APPLY_NOW">Apply now</li>
                <li class="cta-option" data-value="CONTACT">Contact</li>
                <li class="cta-option" data-value="BUY_NOW">Buy now</li>
                <li class="cta-option" data-value="GET_OFFER">Get offer</li>
                <li class="cta-option" data-value="GET_OFFER_VIEW">Get offer view</li>
                <li class="cta-option" data-value="BUY_TICKETS">Buy tickets</li>
                <li class="cta-option" data-value="UPDATE_APP">Update app</li>
                <li class="cta-option" data-value="GET_DIRECTIONS">Get directions</li>
                <li class="cta-option" data-value="BUY">Buy</li>
                <li class="cta-option" data-value="SEND_UPDATES">Send updates</li>
                <li class="cta-option" data-value="MESSAGE_PAGE">Message page</li>
                <li class="cta-option" data-value="DONATE">Donate</li>
                <li class="cta-option" data-value="SUBSCRIBE">Subscribe</li>
                <li class="cta-option" data-value="SAY_THANKS">Say thanks</li>
                <li class="cta-option" data-value="SELL_NOW">Sell now</li>
                <li class="cta-option" data-value="SHARE">Share</li>
                <li class="cta-option" data-value="DONATE_NOW">Donate now</li>
                <li class="cta-option" data-value="GET_QUOTE">Get quote</li>
                <li class="cta-option" data-value="CONTACT_US">Contact us</li>
                <li class="cta-option" data-value="ORDER_NOW">Order now</li>
                <li class="cta-option" data-value="START_ORDER">Start order</li>
                <li class="cta-option" data-value="ADD_TO_CART">Add to cart</li>
                <li class="cta-option" data-value="VIEW_CART">View cart</li>
                <li class="cta-option" data-value="VIEW_IN_CART">View in cart</li>
                <li class="cta-option" data-value="VIDEO_ANNOTATION">Video annotation</li>
                <li class="cta-option" data-value="RECORD_NOW">Record now</li>
                <li class="cta-option" data-value="INQUIRE_NOW">Inquire now</li>
                <li class="cta-option" data-value="CONFIRM">Confirm</li>
                <li class="cta-option" data-value="REFER_FRIENDS">Refer friends</li>
                <li class="cta-option" data-value="REQUEST_TIME">Request time</li>
                <li class="cta-option" data-value="GET_SHOWTIMES">Get showtimes</li>
                <li class="cta-option" data-value="LISTEN_NOW">Listen now</li>
                <li class="cta-option" data-value="TRY_DEMO">Try demo</li>
                <li class="cta-option" data-value="WOODHENGE_SUPPORT">Woodhenge support</li>
                <li class="cta-option" data-value="SOTTO_SUBSCRIBE">Sotto subscribe</li>
                <li class="cta-option" data-value="FOLLOW_USER">Follow user</li>
                <li class="cta-option" data-value="RAISE_MONEY">Raise money</li>
                <li class="cta-option" data-value="SEE_SHOP">See shop</li>
                <li class="cta-option" data-value="GET_DETAILS">Get details</li>
                <li class="cta-option" data-value="FIND_OUT_MORE">Find out more</li>
                <li class="cta-option" data-value="VISIT_WEBSITE">Visit website</li>
                <li class="cta-option" data-value="BROWSE_SHOP">Browse shop</li>
                <li class="cta-option" data-value="EVENT_RSVP">Event RSVP</li>
                <li class="cta-option" data-value="WHATSAPP_MESSAGE">WhatsApp message</li>
                <li class="cta-option" data-value="FOLLOW_NEWS_STORYLINE">Follow news storyline</li>
                <li class="cta-option" data-value="SEE_MORE">See more</li>
                <li class="cta-option" data-value="BOOK_NOW">Book now</li>
                <li class="cta-option" data-value="FIND_A_GROUP">Find a group</li>
                <li class="cta-option" data-value="FIND_YOUR_GROUPS">Find your groups</li>
                <li class="cta-option" data-value="PAY_TO_ACCESS">Pay to access</li>
                <li class="cta-option" data-value="PURCHASE_GIFT_CARDS">Purchase gift cards</li>
                <li class="cta-option" data-value="FOLLOW_PAGE">Follow page</li>
                <li class="cta-option" data-value="SEND_A_GIFT">Send a gift</li>
                <li class="cta-option" data-value="SWIPE_UP_SHOP">Swipe up shop</li>
                <li class="cta-option" data-value="SWIPE_UP_PRODUCT">Swipe up product</li>
                <li class="cta-option" data-value="SEND_GIFT_MONEY">Send gift money</li>
                <li class="cta-option" data-value="PLAY_GAME_ON_FACEBOOK">Play game on Facebook</li>
                <li class="cta-option" data-value="GET_STARTED">Get started</li>
                <li class="cta-option" data-value="OPEN_INSTANT_APP">Open instant app</li>
                <li class="cta-option" data-value="AUDIO_CALL">Audio call</li>
                <li class="cta-option" data-value="GET_PROMOTIONS">Get promotions</li>
                <li class="cta-option" data-value="JOIN_CHANNEL">Join channel</li>
                <li class="cta-option" data-value="MAKE_AN_APPOINTMENT">Make an appointment</li>
                <li class="cta-option" data-value="ASK_ABOUT_SERVICES">Ask about services</li>
                <li class="cta-option" data-value="BOOK_A_CONSULTATION">Book a consultation</li>
                <li class="cta-option" data-value="GET_A_QUOTE">Get a quote</li>
                <li class="cta-option" data-value="BUY_VIA_MESSAGE">Buy via message</li>
                <li class="cta-option" data-value="ASK_FOR_MORE_INFO">Ask for more info</li>
                <li class="cta-option" data-value="CHAT_WITH_US">Chat with us</li>
                <li class="cta-option" data-value="VIEW_PRODUCT">View product</li>
                <li class="cta-option" data-value="VIEW_CHANNEL">View channel</li>
                <li class="cta-option" data-value="GET_IN_TOUCH">Get in touch</li>
                <li class="cta-option" data-value="WATCH_LIVE_VIDEO">Watch live video</li>
                <li class="cta-option" data-value="SHOP_WITH_AI">Shop with AI</li>
                <li class="cta-option" data-value="TRY_ON_WITH_AI">Try on with AI</li>
              </ul>
            </div>
          </div>
          <input type="url" placeholder="Destination URL*" required />
          <input type="text" placeholder="Description" class="adcopy-description" />
          <button>Continue to Review</button>
        </div>
      </div>

      <!-- Review & Create Ads -->
      <div class="create-ads-container" style="display: none">
        <h2>Review &amp; Create Ads</h2>
        <div class="review-container">
          <h3>Ad Set: Auto Test 1</h3>
          <!-- Display creatives for review -->
          <div class="data-container-creatives">
            <div class="images">
            </div>
            <!-- Display ad copy for review -->

            <div class="adcopy-text-review">
              <h3>Primary Text:</h3>
              <div class="primary-text-review-container primary">
                <p>
                  I hate my neighbor. And not for any of the usual reasons...
                </p>
              </div>
            </div>
            <div class="headline-review">
              <h3>Headline:</h3>
              <div class="headline-review-container">
                <p>Check out the site now ‚ûú</p>
              </div>
            </div>

            <div class="adcopy-text-review">
              <h3>Page:</h3>
              <div class="cta-text-review-container page">
                <p></p>
              </div>
            </div>

            <div class="adcopy-text-review">
              <h3>Call to Action:</h3>
              <div class="cta-text-review-container cta">
                <p>LEARN_MORE</p>
              </div>
            </div>

            <div class="adcopy-text-review">
              <h3>Destination URL:</h3>
              <div class="cta-text-review-container link">
                <p>https://emptylink.com</p>
              </div>
            </div>

            <div class="adcopy-text-review">
              <h3>Description:</h3>
              <div class="cta-text-review-container description">
                <p></p>
              </div>
            </div>
          </div>
        </div>
        <button class="create-ads-button">Create Ads</button>
        <!-- <button class="bulk-upload-ads-button" style="margin-top: 10px; background: #28a745;">Bulk Upload Ads to Multiple Accounts</button> -->
      </div>

      <!-- Success Screen -->
      <div class="success-wrapper" style="display: none">
        <h2>Success!</h2>

        <div class="success-container">
          <p>5 Ads Successfully Created</p>
          <img src="icons/icons8-tick.svg" />

          <button>View in Ads Manager</button>
          <h3>Create More Ads</h3>
        </div>
      </div>
    </div>
  </div>

  <!-- Duplicate Ad Set Dialog -->
  <div class="duplicate-adset-dialog" style="display: none;">
    <div class="dialog-content">
      <button class="dialog-close-btn">&times;</button>
      <h3>Duplicate Ad Set</h3>
      <div class="duplicate-step" data-step="1">
        <p>Do you want to delete the existing ads from the ad set <strong>(recommended)</strong>?</p>
        <div class="button-group">
          <!-- IZAK - these deep copy values are reversed. deep copy = true is throwing error still.  -->
          <button class="btn-secondary" data-deep-copy="true">No, Copy Ads</button>
          <button class="btn-primary" data-deep-copy="false">Yes, Delete Ads</button>
        </div>
      </div>
      <div class="duplicate-step" data-step="2" style="display: none;">
        <p>What do you want to name the new ad set?</p>
        <input type="text" id="duplicate-adset-name" placeholder="Enter ad set name">
        <div class="button-group">
          <button class="btn-secondary duplicate-back">Back</button>
          <button class="btn-primary duplicate-proceed" disabled>Proceed</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Duplicate Campaign Dialog -->
  <div class="duplicate-campaign-dialog" style="display: none;">
    <div class="dialog-content">
      <button class="dialog-close-btn">&times;</button>
      <h3>Duplicate Campaign</h3>
      <div class="duplicate-step" data-step="1">
        <p>Do you want to delete all ad sets and ads from this campaign <strong>(recommended)</strong>?</p>
        <div class="button-group">
          <button class="btn-secondary" data-deep-copy="true">No, Copy Everything</button>
          <button class="btn-primary" data-deep-copy="false">Yes, Delete Everything</button>
        </div>
      </div>
      <div class="duplicate-step" data-step="2" style="display: none;">
        <p>What do you want to name the new campaign?</p>
        <input type="text" id="duplicate-campaign-name" placeholder="Enter campaign name">
        <div class="button-group">
          <button class="btn-secondary duplicate-back">Back</button>
          <button class="btn-primary duplicate-proceed" disabled>Proceed</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Create Campaign Dialog -->
  <div class="create-campaign-dialog" style="display: none;">
    <div class="dialog-content">
      <button class="dialog-close-btn">&times;</button>
      <h3>Create New Campaign</h3>
      <div class="create-campaign-form">
        <input type="text" id="create-campaign-name" placeholder="Campaign Name*" required>

        <div class="dropdown-container">
          <div class="custom-dropdown">
            <div class="dropdown-selected" data-dropdown="campaign-objective">
              <span class="dropdown-display">Campaign Objective*</span>
              <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </div>
            <ul class="dropdown-options campaign-objective">
              <li data-value="OUTCOME_TRAFFIC">Traffic</li>
              <li data-value="OUTCOME_ENGAGEMENT">Engagement</li>
              <li data-value="OUTCOME_LEADS">Leads</li>
              <li data-value="OUTCOME_SALES">Sales</li>
              <li data-value="OUTCOME_APP_PROMOTION">App Promotion</li>
              <li data-value="OUTCOME_AWARENESS">Awareness</li>
            </ul>
          </div>
        </div>

        <div class="dropdown-container">
          <div class="custom-dropdown">
            <div class="dropdown-selected" data-dropdown="campaign-status">
              <span class="dropdown-display">Status*</span>
              <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </div>
            <ul class="dropdown-options campaign-status">
              <li data-value="PAUSED">Paused</li>
              <li data-value="ACTIVE">Active</li>
            </ul>
          </div>
        </div>

        <!-- Budget Mode Selection -->
        <div class="budget-mode-container"
          style="margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 4px; background: #f9f9f9;">
          <h4 style="margin: 0 0 15px 0; font-size: 14px; color: #333;">Budget Mode*</h4>
          <div class="budget-mode-options" style="display: flex; flex-direction: column; gap: 10px;">
            <label
              style="display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 10px; border: 2px solid #ddd; border-radius: 4px; background: white; transition: all 0.2s;">
              <input type="radio" name="campaign-budget-mode" value="ADSET_LEVEL" checked style="cursor: pointer;">
              <div>
                <div style="font-weight: 600; font-size: 14px; color: #333;">Ad Set-Level Budget (Current)</div>
                <div style="font-size: 12px; color: #666; margin-top: 2px;">Set budget individually for each ad set
                </div>
              </div>
            </label>
            <label
              style="display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 10px; border: 2px solid #ddd; border-radius: 4px; background: white; transition: all 0.2s;">
              <input type="radio" name="campaign-budget-mode" value="CAMPAIGN_LEVEL" style="cursor: pointer;">
              <div>
                <div style="font-weight: 600; font-size: 14px; color: #333;">Campaign-Level Budget</div>
                <div style="font-size: 12px; color: #666; margin-top: 2px;">Set budget once at campaign level,
                  auto-distributed to ad sets</div>
              </div>
            </label>
          </div>
        </div>

        <!-- Campaign-Level Budget Fields (Hidden by default) -->
        <div class="campaign-budget-fields" style="display: none; margin-top: 15px;">
          <!-- Budget Type Selection -->
          <div class="dropdown-container">
            <div class="custom-dropdown">
              <div class="dropdown-selected" data-dropdown="campaign-budget-type">
                <span class="dropdown-display">Budget Type*</span>
                <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                  <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </div>
              <ul class="dropdown-options campaign-budget-type">
                <li data-value="daily">Daily Budget</li>
                <li data-value="lifetime">Lifetime Budget</li>
              </ul>
            </div>
          </div>

          <!-- Budget Amount Input -->
          <div class="budget-input-wrapper"
            style="display: flex; align-items: center; border: 1px solid #ddd; border-radius: 4px; overflow: hidden; background: white;">
            <span class="currency-prefix"
              style="padding: 10px; background: #f5f5f5; color: #666; font-weight: 600;">$</span>
            <input type="number" id="campaign-budget-amount" class="campaign-budget-amount" placeholder="Budget Amount*"
              step="0.01" min="1" required style="flex: 1; border: none; padding: 10px; outline: none;">
            <span class="currency-suffix campaign-budget-suffix"
              style="padding: 10px; background: #f5f5f5; color: #666; font-size: 12px;">/day</span>
          </div>

          <!-- Campaign End Date (for lifetime budget) -->
          <div class="campaign-end-date-container" style="display: none;">
            <label style="display: block; font-size: 13px; color: #666; margin-bottom: 4px;">Campaign End Date*</label>
            <input type="datetime-local" id="campaign-end-date" class="campaign-end-date"
              style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
          </div>

          <!-- Pacing Type -->
          <div class="dropdown-container">
            <div class="custom-dropdown">
              <div class="dropdown-selected" data-dropdown="campaign-pacing-type">
                <span class="dropdown-display">Pacing Type</span>
                <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                  <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </div>
              <ul class="dropdown-options campaign-pacing-type">
                <li data-value="standard">Standard Pacing (Recommended)</li>
                <li data-value="no_pacing">No Pacing (Accelerated)</li>
                <li data-value="day_parting">Day Parting (Schedule)</li>
              </ul>
            </div>
          </div>

          <!-- Campaign Schedule (Hidden by default, shown when day_parting selected) -->
          <div class="campaign-schedule-container"
            style="display: none; margin-top: 15px; padding: 15px; border: 1px solid #ddd; border-radius: 4px; background: #f9f9f9;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
              <h4 style="margin: 0; font-size: 14px; color: #333;">Campaign Schedule</h4>
              <button type="button" class="add-campaign-schedule-btn"
                style="padding: 6px 12px; background: #1877f2; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">+
                Add Schedule</button>
            </div>
            <p style="margin: 8px 0; font-size: 12px; color: #666;">Schedule specific days and hours when your ads
              should run.</p>
            <div class="campaign-schedule-list"></div>
          </div>

          <!-- Bid Strategy -->
          <div class="dropdown-container">
            <div class="custom-dropdown">
              <div class="dropdown-selected" data-dropdown="campaign-bid-strategy">
                <span class="dropdown-display">Bid Strategy</span>
                <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                  <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </div>
              <ul class="dropdown-options campaign-bid-strategy">
                <li data-value="">None (Meta optimizes automatically)</li>
                <li data-value="LOWEST_COST_WITHOUT_CAP">Lowest Cost Without Cap</li>
                <li data-value="LOWEST_COST_WITH_BID_CAP">Lowest Cost With Bid Cap</li>
                <li data-value="COST_CAP">Cost Cap</li>
                <li data-value="LOWEST_COST_WITH_MIN_ROAS">Lowest Cost With Min ROAS</li>
              </ul>
            </div>
          </div>

          <!-- Bid Amount (shown when bid cap strategy selected) -->
          <div class="campaign-bid-amount-container" style="display: none;">
            <label style="display: block; font-size: 13px; color: #666; margin-bottom: 4px;">Bid Amount per Ad
              Set*</label>
            <div class="budget-input-wrapper"
              style="display: flex; align-items: center; border: 1px solid #ddd; border-radius: 4px; overflow: hidden; background: white;">
              <span class="currency-prefix"
                style="padding: 10px; background: #f5f5f5; color: #666; font-weight: 600;">$</span>
              <input type="number" id="campaign-bid-amount" class="campaign-bid-amount" placeholder="Bid Amount*"
                step="0.01" min="0.01" style="flex: 1; border: none; padding: 10px; outline: none;">
            </div>
            <small style="display: block; margin-top: 4px; color: #666; font-size: 11px;">This bid amount will be
              applied to all ad sets in this campaign</small>
          </div>
        </div>

        <div class="dropdown-container">
          <div class="custom-dropdown">
            <div class="dropdown-selected" data-dropdown="campaign-special-categories">
              <span class="dropdown-display">Special Ad Categories (Optional)</span>
              <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </div>
            <ul class="dropdown-options campaign-special-categories" data-multiple="true">
              <li data-value="">None - If none of the categories apply</li>
              <li data-value="EMPLOYMENT">Employment</li>
              <li data-value="HOUSING">Housing</li>
              <li data-value="FINANCIAL_PRODUCTS_SERVICES">Financial Products & Services</li>
              <li data-value="ISSUES_ELECTIONS_POLITICS">Issues, Elections, Politics</li>
              <li data-value="ONLINE_GAMBLING_AND_GAMING">Online Gambling & Gaming</li>
            </ul>
          </div>
        </div>

        <!-- Special Ad Category Country dropdown -->
        <div class="dropdown-container">
          <div class="custom-dropdown">
            <div class="dropdown-selected" data-dropdown="campaign-special-country">
              <span class="dropdown-display">Special Ad Category Country (Optional)</span>
              <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </div>
            <ul class="dropdown-options campaign-special-country" data-multiple="true">
              <li data-value="">None</li>
              <!-- Countries will be populated dynamically from fb-locations.json -->
            </ul>
          </div>
        </div>

        <div class="button-group">
          <button class="btn-secondary campaign-cancel">Cancel</button>
          <button class="btn-primary campaign-create" disabled>Create Campaign</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bulk Duplicate Campaign Modal -->
  <div class="bulk-duplicate-campaign-modal" style="display: none;">
    <div class="modal-content bulk-duplicate-content">
      <div class="modal-header">
        <h2>Duplicate Campaign to Multiple Accounts</h2>
        <button class="modal-close-btn bulk-duplicate-campaign-close">&times;</button>
      </div>

      <div class="bulk-duplicate-body">
        <!-- Step 1: Select Accounts & Configure -->
        <div class="bulk-duplicate-step" data-step="1">
          <h3>Select Target Ad Accounts</h3>
          <p class="step-description">Campaign: <strong class="bulk-campaign-source-name"></strong></p>

          <div class="form-group">
            <label>New Campaign Name*</label>
            <input type="text" class="bulk-campaign-name" placeholder="Enter campaign name" required />
          </div>

          <div class="form-group">
            <label>Copy Options*</label>
            <div class="radio-group">
              <label class="radio-label">
                <input type="radio" name="bulk-campaign-deep-copy" value="false" checked />
                <span>Create empty campaign (recommended)</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="bulk-campaign-deep-copy" value="true" />
                <span>Copy all ad sets and ads</span>
              </label>
            </div>
          </div>

          <div class="account-selection-container">
            <div class="search-box">
              <input type="text" class="bulk-campaign-account-search" placeholder="Search accounts..." />
            </div>
            <div class="bulk-campaign-account-list">
              <!-- Accounts will be populated dynamically -->
            </div>
          </div>

          <p class="form-help-text" style="margin-top: 15px;">
            Selected: <strong class="bulk-campaign-selected-count">0</strong> accounts
          </p>

          <div class="bulk-actions">
            <button class="btn-secondary bulk-campaign-select-all">Select All</button>
            <button class="btn-secondary bulk-campaign-deselect-all">Deselect All</button>
            <button class="btn-secondary bulk-duplicate-campaign-cancel">Cancel</button>
            <button class="btn-primary bulk-campaign-start" disabled>Start Duplication</button>
          </div>
        </div>

        <!-- Step 2: Progress -->
        <div class="bulk-duplicate-step" data-step="2" style="display: none;">
          <h3>Duplicating Campaign...</h3>
          <p class="step-description">Creating campaigns across multiple accounts. Please wait...</p>

          <div class="bulk-progress-container">
            <div class="overall-progress">
              <h4>Overall Progress</h4>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 0%"></div>
              </div>
              <p class="progress-text">0 of 0 accounts completed</p>
            </div>

            <div class="account-progress-list">
              <!-- Individual account progress will be shown here -->
            </div>
          </div>
        </div>

        <!-- Step 3: Results -->
        <div class="bulk-duplicate-step" data-step="3" style="display: none;">
          <h3>Duplication Complete!</h3>

          <div class="bulk-results-container">
            <div class="results-summary">
              <div class="result-stat success">
                <span class="stat-number">0</span>
                <span class="stat-label">Succeeded</span>
              </div>
              <div class="result-stat failed">
                <span class="stat-number">0</span>
                <span class="stat-label">Failed</span>
              </div>
              <div class="result-stat accounts">
                <span class="stat-number">0</span>
                <span class="stat-label">Accounts</span>
              </div>
            </div>

            <div class="results-details">
              <h4>Details by Account</h4>
              <div class="bulk-campaign-results-list">
                <!-- Detailed results will be shown here -->
              </div>
            </div>
          </div>

          <div class="bulk-actions">
            <button class="btn-primary bulk-duplicate-campaign-close-results">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bulk Duplicate Ad Set Modal -->
  <div class="bulk-duplicate-adset-modal" style="display: none;">
    <div class="modal-content bulk-duplicate-content">
      <div class="modal-header">
        <h2>Duplicate Ad Set to Multiple Accounts</h2>
        <button class="modal-close-btn bulk-duplicate-adset-close">&times;</button>
      </div>

      <div class="bulk-duplicate-body">
        <!-- Step 1: Select Ad Set & Configure -->
        <div class="bulk-duplicate-step" data-step="1">
          <h3>Select Ad Set to Duplicate</h3>
          <p class="step-description">Choose an ad set from the current campaign</p>

          <div class="bulk-adset-list-container">
            <div class="bulk-adset-selection-list">
              <!-- Ad sets will be populated here -->
            </div>
          </div>

          <div class="bulk-actions">
            <button class="btn-secondary bulk-duplicate-adset-cancel">Cancel</button>
          </div>
        </div>

        <!-- Step 2: Select Accounts & Configure -->
        <div class="bulk-duplicate-step" data-step="2" style="display: none;">
          <h3>Select Target Ad Accounts</h3>
          <p class="step-description">Ad Set: <strong class="bulk-adset-source-name"></strong></p>

          <div class="form-group">
            <label>New Ad Set Name*</label>
            <input type="text" class="bulk-adset-name" placeholder="Enter ad set name" required />
          </div>

          <div class="form-group">
            <label>Copy Options*</label>
            <div class="radio-group">
              <label class="radio-label">
                <input type="radio" name="bulk-adset-deep-copy" value="false" checked />
                <span>Create empty ad set (recommended)</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="bulk-adset-deep-copy" value="true" />
                <span>Copy all ads</span>
              </label>
            </div>
          </div>

          <div class="account-selection-container">
            <div class="search-box">
              <input type="text" class="bulk-adset-account-search" placeholder="Search accounts..." />
            </div>
            <div class="bulk-adset-account-list">
              <!-- Accounts will be populated dynamically -->
            </div>
          </div>

          <p class="form-help-text" style="margin-top: 15px;">
            Selected: <strong class="bulk-adset-selected-count">0</strong> accounts
          </p>

          <div class="bulk-actions">
            <button class="btn-secondary bulk-adset-select-all">Select All</button>
            <button class="btn-secondary bulk-adset-deselect-all">Deselect All</button>
            <button class="btn-secondary bulk-adset-back-to-list">Back</button>
            <button class="btn-primary bulk-adset-next-to-campaigns" disabled>Next: Select Campaigns</button>
          </div>
        </div>

        <!-- Step 3: Select Campaigns -->
        <div class="bulk-duplicate-step" data-step="3" style="display: none;">
          <h3>Select Target Campaign for Each Account</h3>
          <p class="step-description">Choose which campaign to place the ad set in for each account</p>

          <div class="campaign-selection-container">
            <div class="bulk-campaign-mappings-list">
              <!-- Campaign selectors for each account will be populated here -->
            </div>
          </div>

          <div class="bulk-actions">
            <button class="btn-secondary bulk-adset-back-to-accounts">Back</button>
            <button class="btn-primary bulk-adset-start" disabled>Start Duplication</button>
          </div>
        </div>

        <!-- Step 4: Progress -->
        <div class="bulk-duplicate-step" data-step="4" style="display: none;">
          <h3>Duplicating Ad Set...</h3>
          <p class="step-description">Creating ad sets across multiple accounts. Please wait...</p>

          <div class="bulk-progress-container">
            <div class="overall-progress">
              <h4>Overall Progress</h4>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 0%"></div>
              </div>
              <p class="progress-text">0 of 0 accounts completed</p>
            </div>

            <div class="account-progress-list">
              <!-- Individual account progress will be shown here -->
            </div>
          </div>
        </div>

        <!-- Step 5: Results -->
        <div class="bulk-duplicate-step" data-step="5" style="display: none;">
          <h3>Duplication Complete!</h3>

          <div class="bulk-results-container">
            <div class="results-summary">
              <div class="result-stat success">
                <span class="stat-number">0</span>
                <span class="stat-label">Succeeded</span>
              </div>
              <div class="result-stat failed">
                <span class="stat-number">0</span>
                <span class="stat-label">Failed</span>
              </div>
              <div class="result-stat accounts">
                <span class="stat-number">0</span>
                <span class="stat-label">Accounts</span>
              </div>
            </div>

            <div class="results-details">
              <h4>Details by Account</h4>
              <div class="bulk-adset-results-list">
                <!-- Detailed results will be shown here -->
              </div>
            </div>
          </div>

          <div class="bulk-actions">
            <button class="btn-primary bulk-duplicate-adset-close-results">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bulk Upload Ads Modal -->
  <div class="bulk-upload-modal" style="display: none;">
    <div class="modal-content bulk-upload-content">
      <div class="modal-header">
        <h2>Bulk Upload Ads to Multiple Accounts</h2>
        <button class="modal-close-btn bulk-upload-close">&times;</button>
      </div>

      <div class="bulk-upload-body">
        <!-- Step 1: Select Accounts -->
        <div class="bulk-step" data-step="1">
          <h3>Step 1: Select Ad Accounts</h3>
          <p class="step-description">Choose one or more ad accounts to create ads in</p>

          <div class="account-selection-container">
            <div class="search-box">
              <input type="text" class="account-search" placeholder="Search accounts..." />
            </div>
            <div class="account-list">
              <!-- Accounts will be populated dynamically -->
            </div>
          </div>

          <div class="bulk-actions">
            <button class="btn-secondary bulk-select-all">Select All</button>
            <button class="btn-secondary bulk-deselect-all">Deselect All</button>
            <button class="btn-primary bulk-start-upload" disabled>Start Bulk Upload</button>
          </div>
        </div>

        <!-- Step 2: Upload Progress -->
        <div class="bulk-step" data-step="2" style="display: none;">
          <h3>Step 2: Uploading Ads</h3>
          <p class="step-description">Creating ads across multiple accounts...</p>

          <div class="bulk-progress-container">
            <div class="overall-progress">
              <h4>Overall Progress</h4>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 0%"></div>
              </div>
              <p class="progress-text">0 of 0 accounts completed</p>
            </div>

            <div class="account-progress-list">
              <!-- Individual account progress will be shown here -->
            </div>
          </div>

          <div class="bulk-actions" style="display: none;">
            <button class="btn-primary bulk-close-modal">Close</button>
          </div>
        </div>

        <!-- Step 3: Results -->
        <div class="bulk-step" data-step="3" style="display: none;">
          <h3>Bulk Upload Complete!</h3>

          <div class="bulk-results-container">
            <div class="results-summary">
              <div class="result-stat success">
                <span class="stat-number">0</span>
                <span class="stat-label">Ads Created</span>
              </div>
              <div class="result-stat failed">
                <span class="stat-number">0</span>
                <span class="stat-label">Failed</span>
              </div>
              <div class="result-stat accounts">
                <span class="stat-number">0</span>
                <span class="stat-label">Accounts</span>
              </div>
            </div>

            <div class="results-details">
              <h4>Details by Account</h4>
              <div class="results-list">
                <!-- Detailed results will be shown here -->
              </div>
            </div>
          </div>

          <div class="bulk-actions">
            <button class="btn-primary bulk-close-modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Creative Library Modal -->
  <div class="creative-library-modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Creative Library</h2>
        <div class="modal-header-buttons">
          <button class="clear-all-btn">Delete ALL ‚ö†Ô∏è</button>
          <button class="modal-close-btn">&times;</button>
        </div>
      </div>

      <div class="library-controls">
        <div class="library-view-toggle">
          <button class="view-toggle-btn active" data-view="creatives">All Creatives</button>
          <!-- <button class="view-toggle-btn" data-view="batches">Batches</button> -->
        </div>
        <div class="library-search-container">
          <input type="text" class="library-search" placeholder="Search creatives..." />
        </div>
      </div>

      <div class="library-filters">
        <label class="filter-checkbox">
          <input type="checkbox" id="filter-new" checked>
          <span>New</span>
        </label>
        <label class="filter-checkbox">
          <input type="checkbox" id="filter-uploaded" checked>
          <span>Already in Account</span>
        </label>
        <label class="filter-checkbox">
          <input type="checkbox" id="filter-videos" checked>
          <span>Videos</span>
        </label>
        <label class="filter-checkbox">
          <input type="checkbox" id="filter-images" checked>
          <span>Images</span>
        </label>
      </div>
      <!-- 
      <div class="batch-actions" style="display: none;">
        <button class="create-batch-btn">+ Create New Batch</button>
        <div class="batch-breadcrumb" style="display: none;">
          <span class="breadcrumb-item">All Batches</span>
          <span class="breadcrumb-separator">‚Ä∫</span>
          <span class="breadcrumb-current"></span>
        </div>
      </div> -->

      <div class="library-grid-container">
        <div class="library-grid">
          <!-- Creative items will be dynamically loaded here -->
        </div>
        <div class="library-loading" style="display: none;">
          <p>Loading creatives...</p>
        </div>
        <div class="library-empty" style="display: none;">
          <p>No creatives found in library</p>
        </div>
      </div>

      <div class="library-selected-info">
        <span class="selected-count">0 selected</span>
        <button class="add-selected-btn" disabled>Add Selected Creatives</button>
      </div>
    </div>
  </div>

  <!-- Automated Rules Modal -->
  <div class="automated-rules-modal" style="display: none;">
    <div class="modal-content rules-modal-content">
      <div class="modal-header">
        <h2>Automated Rules</h2>
        <div class="modal-header-buttons">
          <button class="btn-primary create-multi-rule-btn">+ Create Rule for Multiple Account</button>
          <button class="modal-close-btn">&times;</button>
        </div>
      </div>

      <div class="modal-body">
        <!-- Account selector -->
        <div class="rules-account-selector">
          <label>Ad Account:</label>
          <select class="rules-account-dropdown">
            <option value="">Select an account...</option>
          </select>
          <button class="btn-secondary load-rules-btn" style="margin-left: 10px;">Load Rules</button>
          <button class="btn-primary create-rule-btn">+ Create Rule for Single Account</button>
        </div>

        <!-- Rules list -->
        <div class="rules-list-container">
          <table class="rules-table">
            <thead>
              <tr>
                <th>Rule Name</th>
                <th>Entity Type</th>
                <th>Status</th>
                <th>Schedule</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody class="rules-list">
              <tr class="empty-state">
                <td colspan="5">No rules found. Create a rule to get started.</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Create/Edit Rule Modal -->
  <div class="rule-editor-modal" style="display: none;">
    <div class="modal-content rule-editor-content">
      <div class="modal-header">
        <h2 class="rule-editor-title">Create Automated Rule</h2>
        <button class="modal-close-btn">&times;</button>
      </div>

      <div class="modal-body">
        <form class="rule-form">
          <!-- Rule Name -->
          <div class="form-group">
            <label for="rule-name">Rule Name*</label>
            <input type="text" id="rule-name" class="form-input" placeholder="e.g., Stop Loss Rule" required />
          </div>

          <!-- Rule Type -->
          <div class="form-group">
            <label>Rule Type*</label>
            <div class="rule-type-selector">
              <label class="radio-label">
                <input type="radio" name="rule-type" value="SCHEDULE" checked />
                <span>Schedule - Run at specific times</span>
              </label>
              <!-- <label class="radio-label">
                <input type="radio" name="rule-type" value="TRIGGER" />
                <span>Trigger - Run based on stats changes</span>
              </label> -->
            </div>
          </div>

          <!-- Apply Rule To -->
          <div class="form-group">
            <label>Apply Rule To*</label>
            <select id="rule-entity-type" class="form-select" required>
              <option value="">Select entity type...</option>
              <option value="CAMPAIGN">All Active Campaigns</option>
              <option value="ADSET">All Active Ad Sets</option>
              <option value="AD">All Active Ads</option>
            </select>
          </div>

          <!-- Action Section -->
          <div class="form-section">
            <h3>Action*</h3>
            <select id="rule-action-type" class="form-select" required>
              <option value="">Select action...</option>
              <option value="PAUSE">Turn off (Pause)</option>
              <option value="UNPAUSE">Turn on (Unpause)</option>
              <option value="SEND_NOTIFICATION">Send notification only</option>
              <option value="CHANGE_BUDGET">Adjust budget</option>
              <option value="CHANGE_BID">Adjust manual bid</option>
            </select>

            <!-- Budget change options (hidden by default) -->
            <div class="budget-change-options" style="display: none;">
              <div class="form-row">
                <div class="form-group">
                  <label>Change Type</label>
                  <select id="budget-change-type" class="form-select">
                    <option value="INCREASE">Increase daily budget by</option>
                    <option value="DECREASE">Decrease daily budget by</option>
                    <!-- <option value="SET">Set daily budget to</option> -->
                    <option value="INCREASE_LIFETIME">Increase lifetime budget by</option>
                    <option value="DECREASE_LIFETIME">Decrease lifetime budget by</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Unit</label>
                  <select id="budget-unit" class="form-select">
                    <option value="CURRENCY">Dollar amount ($)</option>
                    <option value="PERCENTAGE">Percentage (%)</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Amount</label>
                  <input type="number" id="budget-amount" class="form-input" placeholder="0.00" step="0.01" min="0" />
                </div>
              </div>
            </div>

            <!-- Bid change options (hidden by default) -->
            <div class="bid-change-options" style="display: none;">
              <div class="form-row">
                <div class="form-group">
                  <label>Change Type</label>
                  <select id="bid-change-type" class="form-select">
                    <option value="INCREASE">Increase bid by</option>
                    <option value="DECREASE">Decrease bid by</option>
                    <option value="SET">Set bid to</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Unit</label>
                  <select id="bid-unit" class="form-select">
                    <option value="CURRENCY">Dollar amount ($)</option>
                    <option value="PERCENTAGE">Percentage (%)</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label>Amount</label>
                <input type="number" id="bid-amount" class="form-input" placeholder="0.00" step="0.01" min="0" />
              </div>
            </div>
          </div>

          <!-- Conditions Section -->
          <div class="form-section">
            <h3>Conditions</h3>
            <p class="form-help-text">All conditions must be met (AND logic)</p>
            <div class="conditions-container">
              <!-- Conditions will be added dynamically -->
            </div>
            <button type="button" class="btn-secondary add-condition-btn">+ Add Condition</button>
          </div>

          <!-- Time Range Section -->
          <div class="form-section">
            <h3>Time Range*</h3>
            <select id="rule-time-range" class="form-select" required>
              <option value="TODAY" selected>Today</option>
              <option value="YESTERDAY">Yesterday</option>
              <option value="LAST_3D">Last 3 days</option>
              <option value="LAST_7D">Last 7 days</option>
              <option value="LAST_14D">Last 14 days</option>
              <option value="LAST_28D">Last 28 days</option>
              <option value="LAST_30D">Last 30 days</option>
              <option value="THIS_MONTH">This month</option>
              <option value="THIS_WEEK_MON_TODAY">This week (Mon-Today)</option>
              <option value="THIS_WEEK_SUN_TODAY">This week (Sun-Today)</option>
              <option value="LIFETIME">Lifetime</option>
            </select>
            <p class="form-help-text">Note: Some ad metrics can be delayed and would fluctuate for hours. Consider
              adding some buffers to your metric-based conditions to help avoid false positives.</p>
          </div>

          <!-- Schedule Section -->
          <div class="form-section schedule-section">
            <h3>Schedule*</h3>
            <select id="rule-schedule-frequency" class="form-select" required>
              <option value="CONTINUOUSLY">Continuously (Run every 30-60 minutes)</option>
              <option value="DAILY">Daily (Start 12 AM)</option>
              <option value="CUSTOM">Custom</option>
            </select>

            <!-- Custom schedule options (hidden by default) -->
            <div class="custom-schedule-options" style="display: none;">
              <div class="form-group">
                <label>Days of Week</label>
                <div class="days-selector">
                  <label class="day-checkbox"><input type="checkbox" value="0" /> Sun</label>
                  <label class="day-checkbox"><input type="checkbox" value="1" /> Mon</label>
                  <label class="day-checkbox"><input type="checkbox" value="2" /> Tue</label>
                  <label class="day-checkbox"><input type="checkbox" value="3" /> Wed</label>
                  <label class="day-checkbox"><input type="checkbox" value="4" /> Thu</label>
                  <label class="day-checkbox"><input type="checkbox" value="5" /> Fri</label>
                  <label class="day-checkbox"><input type="checkbox" value="6" /> Sat</label>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Start Time</label>
                  <input type="time" id="schedule-start-time" class="form-input" />
                </div>
                <div class="form-group">
                  <label>End Time</label>
                  <input type="time" id="schedule-end-time" class="form-input" />
                </div>
              </div>
            </div>
          </div>

          <!-- Subscribers Section -->
          <!-- <div class="form-section">
            <h3>Subscriber</h3>
            <p class="form-help-text">Only people with access to this ad account can receive rule results.</p>
            <select id="rule-subscribers" class="form-select">
              <option value="">Select subscriber...</option>
            </select>
            <p class="form-help-text" style="font-size: 12px; margin-top: 5px;">Note: You'll receive a notification when
              conditions for this rule have been met.</p>
          </div> -->

          <!-- JSON Preview -->
          <!-- <div class="form-section">
            <h3>JSON Preview</h3>
            <pre class="json-preview"><code>{}</code></pre>
          </div> -->
        </form>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn-secondary cancel-rule-btn">Cancel</button>
        <button type="button" class="btn-primary save-rule-btn">Create Rule</button>
      </div>
    </div>
  </div>

  <!-- Account Selector Modal (for multi-account rule creation) -->
  <div class="account-selector-modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Select Ad Accounts</h2>
        <button class="modal-close-btn">&times;</button>
      </div>

      <div class="modal-body">
        <p class="modal-description">Choose which accounts to create this rule on:</p>

        <!-- Select All / Deselect All -->
        <div class="account-selector-controls">
          <button type="button" class="btn-link select-all-accounts">Select All</button>
          <button type="button" class="btn-link deselect-all-accounts">Deselect All</button>
        </div>

        <!-- Account Checklist -->
        <div class="account-checklist">
          <!-- Dynamically populated with checkboxes -->
        </div>

        <p class="form-help-text" style="margin-top: 15px;">
          Selected: <strong class="selected-count">0</strong> accounts
        </p>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn-secondary cancel-account-selector">Cancel</button>
        <button type="button" class="btn-primary next-to-rule-editor">Next: Configure Rule</button>
      </div>
    </div>
  </div>

  <!-- Batch Progress Modal -->
  <div class="batch-progress-modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Creating Rules...</h2>
      </div>

      <div class="modal-body">
        <p class="progress-description">Creating rule on multiple accounts. Please wait...</p>

        <!-- Progress Bar -->
        <div class="progress-bar-container">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 0%"></div>
          </div>
          <p class="progress-text"><strong class="completed-count">0</strong> of <strong class="total-count">0</strong>
            accounts completed</p>
        </div>

        <!-- Detailed Results Per Account -->
        <div class="batch-results-list">
          <!-- Dynamically populated -->
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn-secondary close-progress" disabled>Close</button>
      </div>
    </div>
  </div>

  <!-- Batch Results Summary Modal -->
  <div class="batch-results-modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Rule Creation Summary</h2>
        <button class="modal-close-btn">&times;</button>
      </div>

      <div class="modal-body">
        <div class="results-summary">
          <div class="result-stat success-stat">
            <div class="stat-icon">‚úì</div>
            <div class="stat-content">
              <div class="stat-number success-count">0</div>
              <div class="stat-label">Succeeded</div>
            </div>
          </div>

          <div class="result-stat failed-stat">
            <div class="stat-icon">‚úó</div>
            <div class="stat-content">
              <div class="stat-number failed-count">0</div>
              <div class="stat-label">Failed</div>
            </div>
          </div>
        </div>

        <!-- Detailed Results List -->
        <div class="detailed-results">
          <h4>Detailed Results:</h4>
          <div class="results-list">
            <!-- Dynamically populated -->
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn-primary close-results">Done</button>
      </div>
    </div>
  </div>

  <!-- Multi-Campaign Ad Set Creation Modal -->
  <div class="multi-campaign-adset-modal" style="display: none;">
    <div class="modal-content bulk-duplicate-content">
      <div class="modal-header">
        <h2>Create Ad Set for Multiple Campaigns</h2>
        <button class="modal-close-btn multi-campaign-adset-close">&times;</button>
      </div>

      <div class="bulk-duplicate-body">
        <!-- Step 1: Select Campaigns -->
        <div class="bulk-duplicate-step" data-step="1">
          <h3>Step 1: Select Campaigns</h3>
          <p class="step-description">Choose which campaigns to create the ad set in</p>
          <div
            style="background: #e3f2fd; border-left: 4px solid #2196f3; padding: 12px; font-size: 13px; margin-bottom: 16px; border-radius: 4px;">
            <p style="margin: 0; font-size: 13px; color: #0d47a1;">
              <strong>üí° Tip:</strong> For best results, select campaigns that have:
            <ul style="margin: 8px 0 0 20px; padding: 0;">
              <li>Same objective (e.g., all TRAFFIC or all CONVERSIONS)</li>
              <li>Similar special ad categories</li>
              <li>Compatible targeting locations</li>
            </ul>
            Mixing different campaign types may cause creation failures.
            </p>
          </div>

          <div class="campaign-selection-container">
            <div class="search-box">
              <input type="text" class="multi-campaign-adset-search" placeholder="Search campaigns..." />
            </div>
            <div class="multi-campaign-adset-list">
              <!-- Campaigns will be populated dynamically -->
            </div>
          </div>

          <p class="form-help-text" style="margin-top: 15px;">
            Selected: <strong class="multi-campaign-adset-selected-count">0</strong> campaigns
          </p>

          <div class="bulk-actions">
            <button class="btn-secondary multi-campaign-adset-select-all">Select All</button>
            <button class="btn-secondary multi-campaign-adset-deselect-all">Deselect All</button>
            <button class="btn-secondary multi-campaign-adset-cancel">Cancel</button>
            <button class="btn-primary multi-campaign-adset-next" disabled>Next: Configure Ad Set</button>
          </div>
        </div>

        <!-- Step 2: Configure Ad Set -->
        <div class="bulk-duplicate-step" data-step="2" style="display: none;">
          <h3>Step 2: Configure Ad Set</h3>
          <p class="step-description">Creating ad set for <strong class="selected-campaigns-summary"></strong></p>

          <div class="adset-form-container multi-campaign-adset-form">
            <input type="text" placeholder="Ad Set Name*" class="config-adset-name" required />

            <!-- Status dropdown -->
            <div class="dropdown-container">
              <div class="custom-dropdown">
                <div class="dropdown-selected" data-dropdown="status">
                  <span class="dropdown-display" data-value="PAUSED">PAUSED</span>
                  <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                    <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </div>
                <ul class="dropdown-options status">
                  <li data-value="ACTIVE">ACTIVE</li>
                  <li data-value="PAUSED">PAUSED</li>
                </ul>
              </div>
            </div>

            <!-- Optimization Goal dropdown -->
            <div class="dropdown-container">
              <div class="custom-dropdown">
                <div class="dropdown-selected" data-dropdown="optimization-goal">
                  <span class="dropdown-display placeholder">Optimization Goal (Optional)</span>
                  <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                    <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </div>
                <ul class="dropdown-options optimization-goal">
                  <li data-value="LINK_CLICKS">Link Clicks</li>
                  <li data-value="IMPRESSIONS">Impressions</li>
                  <li data-value="REACH">Reach</li>
                  <li data-value="POST_ENGAGEMENT">Post Engagement</li>
                  <li data-value="THRUPLAY">ThruPlay (Video Views)</li>
                  <li data-value="LEAD_GENERATION">Lead Generation</li>
                  <li data-value="OFFSITE_CONVERSIONS">Offsite Conversions</li>
                  <li data-value="APP_INSTALLS">App Installs</li>
                  <li data-value="ENGAGED_USERS">Engaged Users (App Events)</li>
                  <li data-value="PAGE_LIKES">Page Likes</li>
                  <li data-value="EVENT_RESPONSES">Event Responses</li>
                  <li data-value="VISIT_INSTAGRAM_PROFILE">Visit Instagram Profile</li>
                  <li data-value="VALUE">Value (Max Purchase Value)</li>
                  <li data-value="CONVERSATIONS">Conversations (Messaging)</li>
                  <li data-value="LANDING_PAGE_VIEWS">Landing Page Views</li>
                </ul>
              </div>
            </div>

            <!-- Billing Event - Hidden, auto-set to IMPRESSIONS -->
            <input type="hidden" class="multi-campaign-billing-event" value="IMPRESSIONS" />

            <!-- Page dropdown -->
            <div class="dropdown-container">
              <div class="custom-dropdown">
                <div class="dropdown-selected" data-dropdown="pages-multi">
                  <span class="dropdown-display placeholder">Page (Optional)</span>
                  <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                    <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </div>
                <ul class="dropdown-options pages-multi"></ul>
              </div>
            </div>

            <!-- Pixel dropdown -->
            <div class="dropdown-container">
              <div class="custom-dropdown">
                <div class="dropdown-selected" data-dropdown="pixel-multi">
                  <span class="dropdown-display placeholder">Pixel (Optional)</span>
                  <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                    <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </div>
                <ul class="dropdown-options pixel-multi"></ul>
              </div>
            </div>

            <!-- Custom Event Type Selection -->
            <div class="event-type-container-multi" style="opacity: 1;">
              <input type="text" placeholder="Custom Event Type" class="config-event-type-multi" readonly>
              <input type="text" placeholder="Type to search events..." class="event-type-search-multi"
                style="display: none;">
              <ul class="event-type-suggestions-multi" style="display: none;"></ul>
            </div>

            <!-- Bid Strategy dropdown -->
            <div class="dropdown-container">
              <div class="custom-dropdown">
                <div class="dropdown-selected" data-dropdown="adset-bid-strategy">
                  <span class="dropdown-display placeholder">Bid Strategy</span>
                  <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                    <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </div>
                <ul class="dropdown-options adset-bid-strategy">
                  <li data-value="LOWEST_COST_WITHOUT_CAP">Lowest Cost Without Cap</li>
                  <li data-value="LOWEST_COST_WITH_BID_CAP">Lowest Cost With Bid Cap</li>
                  <li data-value="COST_CAP">Cost Cap</li>
                  <li data-value="LOWEST_COST_WITH_MIN_ROAS">Lowest Cost With Min ROAS</li>
                </ul>
              </div>
            </div>

            <!-- Bid Amount Input (for strategies with cap/cost) -->
            <div class="budget-input-wrapper cost-per-result-multi" style="display: none;">
              <span class="currency-prefix">$</span>
              <input type="number" placeholder="12.50" class="config-cost-per-result-goal-multi" step="0.01" min="0" />
              <span class="currency-suffix">per result</span>
            </div>

            <!-- Budget Type dropdown -->
            <div class="dropdown-container">
              <div class="custom-dropdown">
                <div class="dropdown-selected" data-dropdown="adset-budget-type">
                  <span class="dropdown-display placeholder" placeholder="Budget Type*">Budget Type*</span>
                  <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                    <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </div>
                <ul class="dropdown-options adset-budget-type">
                  <li data-value="daily">Daily Budget</li>
                  <li data-value="lifetime">Lifetime Budget</li>
                </ul>
              </div>
            </div>

            <!-- Budget Amount Input -->
            <div class="budget-input-wrapper" style="margin-top: 4px;">
              <span class="currency-prefix">$</span>
              <input type="number" placeholder="Enter budget amount*" class="config-adset-budget" step="0.01" min="1"
                required />
              <span class="budget-type-suffix"></span>
            </div>

            <!-- Start Date & Time -->
            <div style="margin-top: 10px;">
              <label style="display: block; font-size: 13px; color: #666; margin-bottom: 4px;">Start Date &
                Time*</label>
              <input type="datetime-local" class="config-start-datetime"
                style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" required />
            </div>

            <!-- End Date & Time -->
            <div style="margin-top: 10px;">
              <label style="display: block; font-size: 13px; color: #666; margin-bottom: 4px;">
                End Date & Time<span class="end-date-required-indicator" style="color: #dc3545; display: none;">*</span>
                <span class="end-date-optional-indicator" style="color: #999;"> (Optional for Daily Budget)</span>
              </label>
              <input type="datetime-local" class="config-end-datetime"
                style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" />
              <small style="display: block; margin-top: 4px; color: #666; font-size: 12px;">
                Leave empty for ongoing campaign (Daily Budget only)
              </small>
            </div>

            <!-- Ad Scheduling Section -->
            <div class="ad-scheduling-container-multi"
              style="margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 4px; background: #f9f9f9;">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                <h3 style="margin: 0; font-size: 16px; color: #333;">Ad Scheduling (Optional)</h3>
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                  <input type="checkbox" class="enable-scheduling-checkbox-multi" style="cursor: pointer;">
                  <span style="font-size: 14px; color: #666;">Enable Scheduling</span>
                </label>
              </div>
              <p style="margin: 8px 0; font-size: 13px; color: #666;">Schedule specific days and hours when your ads
                should run.</p>

              <div class="scheduling-controls-multi" style="display: none;">
                <!-- Schedule List -->
                <div class="schedule-list-multi" style="margin-top: 15px;">
                  <!-- Schedule items will be added here -->
                </div>

                <!-- Add Schedule Button -->
                <button type="button" class="add-schedule-btn-multi"
                  style="margin-top: 10px; padding: 8px 16px; background: #103dee; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">
                  + Add Schedule
                </button>
              </div>
            </div>

            <!-- Targeting: Min/Max Age -->
            <div class="targeting-age">
              <label style="display: block; width: 100%; font-size: 13px; color: #666; margin-bottom: 4px;">Age*</label>
              <div style="width: 100%;">
                <input style="width: 48%;" type="number" placeholder="Min Age*" class="min-age" required />
                <input style="width: 48%;" type="number" placeholder="Max Age*" class="max-age" required />
              </div>
            </div>

            <!-- Country Selection -->
            <div class="geo-selection-container">
              <div class="country-selection">
                <div class="selected-countries-container">
                  <div class="selected-tags" id="selected-countries-multi"></div>
                  <input type="text" placeholder="Search countries*" class="country-search-input" />
                </div>
                <ul class="country-suggestions" style="display: none;"></ul>
              </div>
            </div>
          </div>

          <div class="bulk-actions">
            <button class="btn-secondary multi-campaign-adset-back">‚Üê Back</button>
            <button class="btn-primary multi-campaign-adset-create">Create Ad Sets</button>
          </div>
        </div>

        <!-- Step 3: Success & Creative Upload -->
        <div class="bulk-duplicate-step" data-step="3" style="display: none;">
          <h3>Step 3: Ad Creatives</h3>

          <div class="success-banner"
            style="background: #d4edda; border: 1px solid #c3e6cb; border-radius: 4px; padding: 15px; margin-bottom: 20px;">
            <p style="margin: 0; color: #155724; font-size: 15px;">
              ‚úÖ <span id="multi-campaign-adset-success-count">Ad sets created successfully</span>
            </p>
          </div>

          <p class="step-description" style="margin-bottom: 20px;">
            Now upload creatives and add ads to these newly created ad sets.
          </p>

          <div
            style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 12px; margin-bottom: 20px; border-radius: 4px;">
            <p style="margin: 0; font-size: 13px; color: #856404;">
              <strong>üí° Note:</strong> The same ads will be created in all successful ad sets. You can skip this step
              and add ads later if needed.
            </p>
          </div>

          <div class="bulk-actions">
            <button class="btn-primary multi-campaign-upload-creatives" style="background: #28a745; border: none;">
              üì§ Continue to Upload Creatives
            </button>
            <button class="btn-secondary multi-campaign-skip-ads">Skip for Now</button>
          </div>
        </div>

        <!-- Step 4: Creative Upload within Modal -->
        <div class="bulk-duplicate-step" data-step="4" style="display: none;">
          <h3>Step 4: Upload Creatives</h3>

          <div
            style="background: #e3f2fd; border-left: 4px solid #2196f3; padding: 12px; margin-bottom: 20px; border-radius: 4px;">
            <p style="margin: 0; font-size: 13px; color: #0d47a1;">
              <strong>üì§ Upload files:</strong> Drag & drop images/videos or paste Google Drive links
            </p>
          </div>

          <div class="multi-campaign-creative-upload-container">
            <!-- File upload area -->
            <div class="file-drop-zone"
              style="border: 2px dashed #ddd; border-radius: 8px; padding: 40px 20px; text-align: center; background: #fafafa; margin-bottom: 20px;">
              <p class="drop-zone-text" style="color: #666; margin-bottom: 15px;">
                Drag & drop <strong>images and videos</strong> here <br /><br />or
              </p>
              <input type="file" multiple accept="image/*,video/*" class="multi-campaign-file-input"
                style="display: none;" />
              <button class="continue-btn multi-campaign-browse-btn"
                style="padding: 10px 20px; background: #103dee; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">
                Browse Files
              </button>
              <div class="gdrive-input-container" style="margin-top: 20px;">
                <p style="margin: 15px 0 10px 0; color: #666; font-size: 14px;">or</p>
                <div style="display: flex; align-items: center; gap: 8px; max-width: 400px; margin: 0 auto;">
                  <input type="text" class="multi-campaign-gdrive-input" placeholder="Paste Google Drive link..."
                    style="flex: 1; padding: 8px 12px; font-size: 14px; border: 1px solid #ddd; border-radius: 4px;">
                  <button class="multi-campaign-gdrive-fetch-btn"
                    style="padding: 8px 12px; background: #103dee; color: white; border: none; cursor: pointer; display: flex; align-items: center; gap: 6px; font-size: 14px; border-radius: 4px;">
                    <img src="icons/drive-icon.svg" alt="Drive" style="width: 16px; height: 16px;">
                    Fetch
                  </button>
                </div>
              </div>
            </div>

            <!-- Uploaded files list -->
            <div class="multi-campaign-uploaded-files-list" style="display: none; margin-bottom: 20px;">
              <!-- Files will be populated here -->
            </div>
          </div>

          <div class="bulk-actions">
            <button class="btn-secondary multi-campaign-creative-back">‚Üê Back</button>
            <button class="btn-primary multi-campaign-creative-continue" disabled>Continue to Ad Copy</button>
          </div>
        </div>

        <!-- Step 5: Ad Copy within Modal -->
        <div class="bulk-duplicate-step" data-step="5" style="display: none;">
          <h3>Step 5: Ad Copy</h3>

          <div
            style="background: #e3f2fd; border-left: 4px solid #2196f3; padding: 12px; margin-bottom: 20px; border-radius: 4px;">
            <p style="margin: 0; font-size: 13px; color: #0d47a1;">
              <strong>‚úçÔ∏è Ad Copy:</strong> This copy will be used for all ads across all ad sets
            </p>
          </div>

          <div class="adset-form-container multi-campaign-ad-copy-form">
            <textarea placeholder="Primary Text*" class="multi-campaign-primary-text" required rows="6"></textarea>

            <input type="text" placeholder="Headline*" class="multi-campaign-headline" required />

            <!-- Page dropdown -->
            <div class="dropdown-container">
              <div class="custom-dropdown">
                <div class="dropdown-selected" data-dropdown="page-multi-campaign">
                  <span class="dropdown-display placeholder">Page*</span>
                  <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                    <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </div>
                <ul class="dropdown-options pages-multi-campaign">
                </ul>
              </div>
            </div>

            <!-- Call to Action dropdown -->
            <div class="dropdown-container">
              <div class="custom-dropdown">
                <div class="dropdown-selected" data-dropdown="cta-multi-campaign">
                  <span class="dropdown-display" data-value="LEARN_MORE">Learn more</span>
                  <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                    <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </div>
                <ul class="dropdown-options cta-multi-campaign">
                  <li class="cta-option" data-value="NO_BUTTON">No button</li>
                  <li class="cta-option" data-value="LEARN_MORE">Learn more</li>
                  <li class="cta-option" data-value="SHOP_NOW">Shop now</li>
                  <li class="cta-option" data-value="SIGN_UP">Sign up</li>
                  <li class="cta-option" data-value="DOWNLOAD">Download</li>
                  <li class="cta-option" data-value="APPLY_NOW">Apply now</li>
                  <li class="cta-option" data-value="BOOK_TRAVEL">Book travel</li>
                  <li class="cta-option" data-value="CONTACT_US">Contact us</li>
                  <li class="cta-option" data-value="GET_QUOTE">Get quote</li>
                  <li class="cta-option" data-value="SUBSCRIBE">Subscribe</li>
                </ul>
              </div>
            </div>

            <input type="url" placeholder="Destination URL*" class="multi-campaign-destination-url" required />

            <input type="text" placeholder="Description (Optional)" class="multi-campaign-description" />
          </div>

          <div class="bulk-actions">
            <button class="btn-secondary multi-campaign-adcopy-back">‚Üê Back</button>
            <button class="btn-primary multi-campaign-create-all-ads">Create Ads for All Ad Sets</button>
          </div>
        </div>

        <!-- Step 6: Creating Ads Progress -->
        <div class="bulk-duplicate-step" data-step="6" style="display: none;">
          <h3>Creating Ads...</h3>

          <div class="multi-campaign-ads-progress" style="padding: 20px;">
            <div style="text-align: center; margin-bottom: 20px;">
              <div class="spinner"
                style="display: inline-block; width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #103dee; border-radius: 50%; animation: spin 1s linear infinite;">
              </div>
              <p style="margin-top: 15px; color: #666;">Creating ads across all ad sets...</p>
            </div>

            <div class="multi-campaign-ads-progress-details" style="max-height: 300px; overflow-y: auto;">
              <!-- Progress items will be added here -->
            </div>
          </div>
        </div>

        <!-- Step 7: Final Success -->
        <div class="bulk-duplicate-step" data-step="7" style="display: none;">
          <h3>‚úÖ Complete!</h3>

          <div class="multi-campaign-final-summary" style="padding: 20px; text-align: center;">
            <!-- Summary will be populated here -->
          </div>

          <div class="bulk-actions" style="justify-content: center; gap: 15px;">
            <button class="btn-secondary multi-campaign-view-ads-manager"
              style="background: #1877f2; color: white; border: none;">
              üìä View in Ads Manager
            </button>
            <button class="btn-primary multi-campaign-done">Done</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <style>
    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }
  </style>
  </div>
  </div>
  </div>

  <!-- Multi-Account Campaign Creation Modal -->
  <div class="multi-account-campaign-modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Create Campaign for Multiple Ad Accounts</h2>
        <button class="close-btn">&times;</button>
      </div>

      <div class="modal-body">
        <!-- Step Indicator -->
        <div class="step-indicator">
          <div class="step-item active">
            <span class="step-number">1</span>
            <span>Select Accounts</span>
          </div>
          <div class="step-item">
            <span class="step-number">2</span>
            <span>Configure Campaign</span>
          </div>
        </div>

        <!-- Step 1: Select Ad Accounts -->
        <div class="step step-1 active">
          <h3 class="section-title">Select Ad Accounts</h3>

          <div class="search-box">
            <input type="text" placeholder="Search ad accounts...">
          </div>

          <div class="selection-controls">
            <button class="select-all-btn">Select All</button>
            <button class="deselect-all-btn">Deselect All</button>
          </div>

          <div class="ad-accounts-list">
            <!-- Ad accounts will be populated dynamically -->
          </div>
        </div>

        <!-- Step 2: Configure Campaign -->
        <div class="step step-2">
          <h3 class="section-title">Campaign Configuration</h3>

          <div class="form-group">
            <label for="campaign_name">Campaign Name *</label>
            <input type="text" name="campaign_name" id="campaign_name" placeholder="Enter campaign name" required>
          </div>

          <div class="form-group">
            <label for="objective">Campaign Objective *</label>
            <select name="objective" id="objective" required>
              <option value="">Select objective...</option>
              <option value="OUTCOME_TRAFFIC">Traffic</option>
              <option value="OUTCOME_ENGAGEMENT">Engagement</option>
              <option value="OUTCOME_LEADS">Leads</option>
              <option value="OUTCOME_SALES">Sales</option>
              <option value="OUTCOME_AWARENESS">Awareness</option>
            </select>
          </div>

          <div class="form-group">
            <label for="status">Campaign Status</label>
            <select name="status" id="status">
              <option value="PAUSED">PAUSED</option>
              <option value="ACTIVE">ACTIVE</option>
            </select>
          </div>

          <!-- Budget fields hidden - budget managed at ad set level -->
          <div class="form-group" style="display: none;">
            <label for="budget_type">Campaign Budget Type (Optional - CBO)</label>
            <select name="budget_type" id="budget_type">
              <option value="NONE">No Campaign Budget (CBO Off)</option>
              <option value="DAILY">Daily Budget</option>
              <option value="LIFETIME">Lifetime Budget</option>
            </select>
          </div>

          <div class="form-group budget-amount-group" style="display: none;">
            <label for="budget_amount">Budget Amount ($)</label>
            <input type="number" name="budget_amount" id="budget_amount" placeholder="Enter budget amount" step="0.01"
              min="1">
            <small style="color: #666; font-size: 12px; margin-top: 4px; display: block;">
              üí° Campaign Budget Optimization - Budget managed at campaign level
            </small>
          </div>

          <!-- Special Categories dropdown -->
          <div class="dropdown-container">
            <div class="custom-dropdown">
              <div class="dropdown-selected" data-dropdown="multi-campaign-special-categories">
                <span class="dropdown-display placeholder" placeholder="Special Ad Categories (Optional)">Special Ad
                  Categories (Optional)</span>
                <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                  <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </div>
              <ul class="dropdown-options multi-campaign-special-categories" data-multiple="true">
                <li data-value="">None - If none of the categories apply</li>
                <li data-value="EMPLOYMENT">Employment</li>
                <li data-value="HOUSING">Housing</li>
                <li data-value="FINANCIAL_PRODUCTS_SERVICES">Financial Products & Services</li>
                <li data-value="ISSUES_ELECTIONS_POLITICS">Issues, Elections, Politics</li>
                <li data-value="ONLINE_GAMBLING_AND_GAMING">Online Gambling & Gaming</li>
              </ul>
            </div>
          </div>

          <!-- Special Ad Category Country dropdown -->
          <div class="dropdown-container">
            <div class="custom-dropdown">
              <div class="dropdown-selected" data-dropdown="multi-campaign-special-country">
                <span class="dropdown-display placeholder" placeholder="Special Ad Category Country (Optional)">Special
                  Ad
                  Category Country (Optional)</span>
                <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                  <path d="M1 1.5L6 6.5L11 1.5" stroke="#666" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </div>
              <ul class="dropdown-options multi-campaign-special-country" data-multiple="true">
                <li data-value="">None</li>
                <!-- Countries will be populated dynamically from fb-locations.json -->
              </ul>
            </div>
          </div>

        </div>
      </div>

      <div class="modal-footer">
        <span class="selected-count">0 account(s) selected</span>
        <div class="footer-buttons">
          <button class="btn-cancel">Cancel</button>
          <button class="btn-next">Next</button>
          <button class="btn-back" style="display: none;">Back</button>
          <button class="btn-create" style="display: none;">Create Campaign</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Campaign Preview Modal -->
  <div class="campaign-preview-modal"
    style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 10000; overflow-y: auto; padding: 20px;">
    <div class="preview-modal-content"
      style="max-width: 600px; margin: 40px auto; background: white; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
      <div class="preview-modal-header"
        style="padding: 20px; border-bottom: 1px solid #e0e0e0; display: flex; justify-content: space-between; align-items: center;">
        <h2 style="margin: 0; font-size: 18px; color: #333;">Campaign Preview</h2>
        <button class="close-preview-btn"
          style="background: none; border: none; font-size: 24px; color: #666; cursor: pointer; padding: 0; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;">&times;</button>
      </div>
      <div class="preview-modal-body" style="padding: 20px;">
        <!-- Preview content will be populated dynamically -->
      </div>
      <div class="preview-modal-footer"
        style="padding: 20px; border-top: 1px solid #e0e0e0; display: flex; gap: 10px; justify-content: flex-end;">
        <button class="preview-edit-btn"
          style="padding: 10px 20px; background: #e4e6eb; color: #333; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">Edit</button>
        <button class="preview-confirm-create-btn"
          style="padding: 10px 20px; background: #1877f2; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">Create
          Campaign</button>
      </div>
    </div>
  </div>

  <script src="error-handler.js?v=20251129-ui-improvements"></script>
  <script src="script.js?v=20251129-ui-improvements"></script>
  <script>
    setTimeout(() => {
      if (typeof setupMetaDataUpdates === 'function') {
        setupMetaDataUpdates()
      }
    }, 1000)
  </script>
</body>

</html>